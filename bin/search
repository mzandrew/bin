#!/bin/bash -e

# 2013-05-13 mza (based on ~/bin/lj)
# updated 2013-12-28
# updated 2014-01-25
# updated 2016-01-13
# updated 2016-02-23 (rewritten as a single "find | sort | xargs" line)

declare first="${1}"
declare rest=""
shift
for each in "${@}"; do
	rest="${rest} | grep -i ${each}"
done

cd

string="grep -i ${first} \"{}\" ${rest}"
#echo "${string}"

find ${HOME}/files-lists ${HOME}/files-lists/accumulated -maxdepth 1 -name '*.lf-r' | sort -n | xargs -i sh -cx "${string}"

